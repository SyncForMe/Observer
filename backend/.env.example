# Backend Environment Configuration Template
# Copy this file to .env and update with your actual values

#==============================================================================
# DATABASE CONFIGURATION
#==============================================================================

# MongoDB connection string
# Format: mongodb://[username:password@]host:port/database[?options]
# Local: mongodb://localhost:27017/ai_simulation
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/ai_simulation
MONGO_URL=mongodb://localhost:27017/ai_simulation

# Database connection pool settings
MONGO_MIN_POOL_SIZE=1
MONGO_MAX_POOL_SIZE=10
MONGO_MAX_IDLE_TIME_MS=30000

#==============================================================================
# JWT AUTHENTICATION
#==============================================================================

# JWT secret key - CRITICAL: Change this in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your_super_secure_jwt_secret_key_here

# JWT algorithm (HS256 recommended)
JWT_ALGORITHM=HS256

# Token expiration (in minutes)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration (in days)
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

#==============================================================================
# AI SERVICE INTEGRATIONS
#==============================================================================

# OpenAI API configuration
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# FAL.ai for avatar generation
# Get API key from: https://fal.ai/dashboard
FAL_KEY=your_fal_ai_key_here

# Emergent Integrations (platform-specific)
EMERGENT_API_KEY=your_emergent_api_key_here

#==============================================================================
# GOOGLE OAUTH
#==============================================================================

# Google OAuth credentials
# Get from: https://console.developers.google.com/
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# OAuth redirect URIs
GOOGLE_REDIRECT_URI=http://localhost:8001/auth/google/callback

#==============================================================================
# EMAIL CONFIGURATION
#==============================================================================

# SMTP server settings
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# Email sender information
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=AI Simulation Platform

# Email templates
WELCOME_EMAIL_TEMPLATE=welcome.html
RESET_PASSWORD_TEMPLATE=reset_password.html

#==============================================================================
# APPLICATION SETTINGS
#==============================================================================

# Environment configuration
ENVIRONMENT=development
DEBUG=true

# Server settings
HOST=0.0.0.0
PORT=8001
WORKERS=1

# Application URLs
APP_NAME=AI Agent Simulation Platform
APP_URL=http://localhost:3000
API_URL=http://localhost:8001

#==============================================================================
# SECURITY SETTINGS
#==============================================================================

# CORS configuration
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Security headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY=default-src 'self'

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=false

#==============================================================================
# LOGGING CONFIGURATION
#==============================================================================

# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file configuration
LOG_FILE=logs/app.log
LOG_MAX_SIZE_MB=10
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Structured logging
LOG_JSON_FORMAT=false
LOG_INCLUDE_TRACE_ID=true

#==============================================================================
# REDIS CACHE (OPTIONAL)
#==============================================================================

# Redis connection
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# Cache settings
CACHE_ENABLED=false
CACHE_DEFAULT_TTL=3600
CACHE_KEY_PREFIX=ai_sim:

#==============================================================================
# FILE STORAGE
#==============================================================================

# Local file storage
UPLOAD_FOLDER=uploads/
MAX_FILE_SIZE_MB=10
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,txt,json

# AWS S3 configuration (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=your-s3-bucket-name
AWS_REGION=us-east-1
AWS_S3_ENDPOINT_URL=

#==============================================================================
# MONITORING & ANALYTICS
#==============================================================================

# Sentry error tracking
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/api/health

# Metrics collection
METRICS_ENABLED=false
METRICS_ENDPOINT=/metrics

#==============================================================================
# DATABASE BACKUP
#==============================================================================

# Backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

#==============================================================================
# SIMULATION SETTINGS
#==============================================================================

# Simulation limits
MAX_SIMULATION_DURATION_HOURS=24
MAX_AGENTS_PER_SIMULATION=10
MAX_CONCURRENT_SIMULATIONS=5

# AI response settings
AI_RESPONSE_TIMEOUT_SECONDS=30
AI_RETRY_ATTEMPTS=3
AI_BACKOFF_FACTOR=2

#==============================================================================
# FEATURE FLAGS
#==============================================================================

# Authentication features
ENABLE_GOOGLE_OAUTH=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true

# Simulation features
ENABLE_FAST_FORWARD=true
ENABLE_OBSERVER_CHAT=true
ENABLE_AUTO_SAVE=true

# Analytics features
ENABLE_WEEKLY_REPORTS=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_EXPORT_DATA=true

# Development features
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_SWAGGER_UI=true
ENABLE_TEST_ROUTES=true

#==============================================================================
# WEBHOOK CONFIGURATION
#==============================================================================

# Webhook URLs for integrations
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/...

# Webhook settings
WEBHOOK_TIMEOUT_SECONDS=10
WEBHOOK_RETRY_ATTEMPTS=3

#==============================================================================
# API RATE LIMITING
#==============================================================================

# Rate limit tiers
AUTH_RATE_LIMIT=5/minute
AGENTS_RATE_LIMIT=100/minute
SIMULATION_RATE_LIMIT=50/minute
ANALYTICS_RATE_LIMIT=20/minute
DOCUMENTS_RATE_LIMIT=100/minute

#==============================================================================
# PERFORMANCE TUNING
#==============================================================================

# Database query optimization
DB_QUERY_TIMEOUT_SECONDS=30
DB_CONNECTION_TIMEOUT_SECONDS=10

# Memory settings
MAX_MEMORY_USAGE_MB=512
GARBAGE_COLLECTION_THRESHOLD=0.8

# Threading
MAX_WORKER_THREADS=4
THREAD_POOL_SIZE=10

#==============================================================================
# SSL/TLS CONFIGURATION
#==============================================================================

# SSL settings (for production)
SSL_ENABLED=false
SSL_CERT_PATH=/path/to/ssl/certificate.pem
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CA_CERTS=/path/to/ssl/ca-certificates.pem

# TLS version
TLS_MIN_VERSION=1.2
TLS_MAX_VERSION=1.3

#==============================================================================
# DEVELOPMENT SETTINGS
#==============================================================================

# Development database
DEV_MONGO_URL=mongodb://localhost:27017/ai_simulation_dev

# Test database
TEST_MONGO_URL=mongodb://localhost:27017/ai_simulation_test

# Development-specific features
DEV_AUTO_RELOAD=true
DEV_SHOW_SQL=false
DEV_MOCK_EXTERNAL_APIS=false

#==============================================================================
# PRODUCTION OVERRIDES
#==============================================================================

# Production settings (uncomment for production deployment)
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# WORKERS=4
# SSL_ENABLED=true
# CORS_ORIGINS=https://yourdomain.com
# RATE_LIMIT_REQUESTS_PER_MINUTE=50
# CACHE_ENABLED=true
# BACKUP_ENABLED=true
# ENABLE_DEBUG_ENDPOINTS=false
# ENABLE_TEST_ROUTES=false

#==============================================================================
# CUSTOM SETTINGS
#==============================================================================

# Add your custom environment variables here
CUSTOM_FEATURE_FLAG=false
CUSTOM_API_ENDPOINT=https://api.example.com
CUSTOM_TIMEOUT=60